#+LATEX_HEADER: \usepackage[margin=1in]{geometry}

* <2024-07-20 Sat>
** Problem 4
Find the average of function $f(\sigma) = |a_1 - a_2| + |a_3 - a_4| + |a_5 - a_6| + |a_7 - a_8|$, where $\sigma$ is a permutation of $(a_1, a_2, a_3, a_4, a_5, a_6, a_7, a_8)$.



*** Solution
Method is to count the number of different distances noted by $|a_i - a_j|$. If you write 1 to 8 literally as 1, 2, 3, 4, 5, 6, 7, 8, you will note that the distance is from 1 to 7. First let's count the number of distance 1.

- distance 1 :: This is easy: pairs like $(1,2)$, $(2,3)$, ... , $(7,8)$ are distance 1. There are 7 of them.
- distance 2 :: $(1,3)$, ... , $(6,8)$. There are 6 of them.
- distance 3 :: $(1,4)$, ... , $(5,8)$. There are 5 of them.
- distance 4 :: $(1,5)$, ... , $(4,8)$. There are 4 of them.
- distance 5 :: $(1,6)$, ... , $(3,8)$. There are 3 of them.
- distance 6 :: $(1,7)$, $(2,8)$. There are 2 of them.
- distance 7 :: $(1,7)$. There are 1 of them.

Each pair will appear exactly this many times: $P_6^6 \times 4 \times 2$. Explanation is: once you select a pair, e.g., $(1,2)$, you can also flip them as $(2,1)$. So that is for multiplier 2. And then you can place them in each of the 4 pairs location. And lastly, $P_6^6$ means once you fixed the selection of the pair, the remaining 6 digits will permutate this many times. So total sum of all permutations of $f(\sigma)$ is

$P_6^6 * 4 * 2 * (1*7 + 2*6 + 3*5 + 4*4 + 5*3 + 6*2 + 7*1)$. Average is given by this number divided by $P_8^8 = 40320$, which is 12.



See also: [[https://github.com/xuanni/Problems/blob/master/problem4.cpp][problem4.cpp]] for brutal force calculation. This is to verify the above solution is correct. The output of the program is below
#+BEGIN_SRC bash
brutal force method: total = 483840, number of permutations = 40320, average = 12
analytical method: average = 12
#+END_SRC

** Problem 5
Find all real \(x\) such that

\begin{equation}
log_{2x}(48\sqrt[3]{3}) = log_{3x}(162\sqrt[3]{2})
\end{equation}

*** Solution
\begin{equation}
\frac{\ln(48\sqrt[3]{3})}{\ln(2) + \ln(x)} = \frac{\ln(162\sqrt[3]{2})}{\ln(3) + \ln(x)}
\end{equation}

\begin{equation}
\ln(x) = \frac{\ln(3)\cdot \ln(48\sqrt[3]{3}) - \ln(2)\cdot \ln(162\sqrt[3]{2})}{\ln(162\sqrt[3]{2}) - \ln(48\sqrt[3]{3})}
\end{equation}


\begin{eqnarray}
x &=& \exp\left[ \frac{\ln(3)\cdot \ln(48\sqrt[3]{3}) - \ln(2)\cdot \ln(162\sqrt[3]{2})}{\ln(162\sqrt[3]{2}) - \ln(48\sqrt[3]{3})}\right]\\
&=& \exp\left[\frac{\ln(3)\cdot\ln(3)-\ln(2)\cdot\ln(2)}{2(\ln(3)-\ln(2))}\right]\\
&=& \exp\left[\frac{\ln(6)}{2}\right]\\
x&=& \sqrt{6}
\end{eqnarray}

** Problem 6
Dikshant writes down \(2k+1\) positive integers in a list where \(k\) is a positive integer. The integers are not necessarily all distinct, but there are at least three distinct integers in the list. The average of the all \(2k+1\) integers is itself an integer and appears at least once in the list. The average of the smallest \(k+1\) integers in the list and the average of the largest \(k+1\) integers in the list by less than \(1/2025\). Determine the smallest possible value of \(k\).

Clarification: if \(m_1\) is the average of the smallest \(k+1\) integers and \(m_2\) is the average of the largest \(k+1\) integers, then the condition is \(|m_1-m_2| < 1/2025\).


*** Solution
Let all integers be ranked from the smallest to the largest in the list as: \(a_1\), \(a_2\), ..., \(a_{2k+1}\). So the number \(a_{k+1}\) is the median of the array.

\begin{equation}\label{eq:m2m1}
m_2 -m_1&=& \frac{\sum_{i=1}^{k+1}(a_{i+k}-a_i)}{k+1} < \frac{1}{2025}.
\end{equation}

In order for the condition to be true, the sum from \(i\) to \(k+1\) has to be very small compared to the dinominator \(k+1\). However, each term in the sum, \(a_{i+k}-a_i\) is an positive integer or zero, and there are \(k+1\) terms of them. So many of them has to be 0 with the exception of a few very small positive values. This means, the number of distinct value in the list has to be small. In fact, the fewer number of distinct values, the more likely the condition could be satisfied, and the more likely \(k\) could be small.

Now assume there are only 3 distinct values, \(a < b < c\). According to the problem statement, the average of all values is also an integer and it's in the list. Therefore, the mean must be the value \(b\). In order for the mean to be integer, the number of value \(a\) must be the same as the number of value \(c\). Then let's assume there are \(l\) values of \(a\) and \(c\), and the number of value \(b\) becomes \(2k+1-2l\). So coming back to the Eq. (\ref{eq:m2m1}),

\begin{equation}\label{eq:m2m12}
m_2 -m_1&=& \frac{l(c-a)}{k+1} < \frac{1}{2025}.
\end{equation}

The smallest the values for \(l\) and \(c-a\) are 1 and 2, respectively. Plug these in we get

\begin{equation}
\boxed{k_{min} = 4050}
\end{equation}
* <2024-07-21 Sun>

** Problem 5
In how many ways can 9 be written as the sum of one or more positive odd integers? (Order of the integers does not matter.)

\begin{*equation}
\begin{matrix}
 (A) 8 & (B) 6 & (C) 5 & (D) 9 & (E) 7
\end{matrix}
\end{*equation}

*** Solution
9 can only be written as sum of odd number of positive odd integers, so we have several options.
- \(9=9\)
- \(9=3+3+3\)
- \(9=1+3+5\)
- \(9=1+1+7\)
- \(9=1+1+1+3+3\)
- \(9=1+1+1+1+5\)
- \(9=1+1+1+1+1+1+3\)
- \(9=1+1+1+1+1+1+1+1+1\)

So answer is (A)

** Problem 6
The sum of the digits of the positive integer \(n\) is 123. The sum of the digits of \(2n\) is 66. The digits of \(n\) include two 3s, six 7s, \(p\) 5s, \(q\) 6s and no other digits. What is \(p^2+q^2\)?

\begin{*equation}
\begin{matrix}
 (A) 106 & (B) 109 & (C) 160 & (D) 58 & (E) 72
\end{matrix}
\end{*equation}

*** Solution
Let \(d_i(n)\) be the \(i\)-th digit of n.

\begin{eqnarray}
n & = & \sum_{i=1}^{2+6+p+q} d_i(n)\cdot 10^{i-1}\\
& = & \sum_{p} 5\cdot 10^{i-1} +\sum_{q} 6\cdot 10^{i-1} +\sum_{2} 3\cdot 10^{i-1} +\sum_{6} 7\cdot 10^{i-1}
\end{eqnarray}

\begin{eqnarray}
2n & = & \sum_{p} 1\cdot 10^{i} +\sum_{q} 1\cdot 10^{i} + \sum_{q} 2\cdot 10^{i-1} +\sum_{2} 6\cdot 10^{i-1} +  \sum_{6} 1\cdot 10^{i} + \sum_{6} 4\cdot 10^{i-1}
\end{eqnarray}

Adding all digits up:

\begin{equation}
\sum_{i} d_i(n) = 5p + 6q + 2\cdot3 +6\cdot 7 = 123
\end{equation}

\begin{equation}
\sum_{i} d_i(2n) = p + q + 2q + 2\cdot6 +6\cdot 1 + 6\cdot 4 = 66
\end{equation}

We get \(p = 9\), \(q =5\), so

\begin{equation}
\boxed{p^2 + q^2 = 106}
\end{equation}

Answer is (A)

* <2024-07-23 Tue>


** problem 1 solution
Write \(n\) as \(3k-2,3k-1,3k\), where \(k=1,674\). You can see 3k-2 and 3k-1 cannot give integer result for \(n(n+3)/27\). Only 3k can.

\begin{equation}
\left.\frac{n(n+3)}{27} \right|_{n=3k}= \frac{k(k+1)}{3}
\end{equation}

Now let k = 3l or 3l-1 will give integer result. So number of k (or n) is floor(674/3)*2 + 1 = 449. The last 1 is when k = 674.

** problem 2 solution
It's easy to know that if there are 0,1 stones left, Mike loses, but if there are 2,3,4 stones left, Mike wins. Next number is 5. Mike can win by picking 4 and leave 1 to Ian. Number 6 no matter what number Mike picks, Ian can match that with (Mike2, Ian4) (Mike3, Ian3) (Mike4, Ian2). So as long as Ian makes sure Mike's pick and Ian's pick add up to 6, Ian wins. So 6 is not good for Mike. Then 7, no matter what number Mike picks first, be it 2,3, 4, what's left is 5, 4, 3, which is a good number for the next player, so 7 is not good for Mike, either.

From now on (\(n\geq8\)), Mike can use some strategy that Ian has used, which is picking a number that adds with Ian's number to 6. If Ian picks 2, Mike counters with 4. If Ian picks 3, Mike picks 3. If Ian picks 4, Mike picks 2. Now to win for 8 stones, Mike picks 2 first, leaving 6 stones. And then Mike applies that strategy to win.

For 9, 10. Mike just picks 3 and 4 as first move, respectively, leaving also 6 stones and applies that strategy.

So if \(n = 6k + 2,3,4\) then it is good for Mike. Then what's left is \(n =6m + 0,1\) are similar to 6, 7, which are not good. \(n=6m + 5\) is good for Mike, he can pick 4 first, then apply matching strategy leaving only 1 for Ian.

To summize, good numbers of stones for Mike are:

\begin{equation}
n = 6m+ 2,3,4,5, n\in[1,100], n\in{\bf Z}
\end{equation}


** problem 3 solution
\(\sin(x) \leq 1\), so when x = 2024, sin(x) has 5.62 periods. Each period has 2 intersections. So that's 12 intersections, except the origin. Also consider negative part, so total number of intersections is 23.

#+CAPTION: sin(x) and x/2024
#+ATTR_LaTeX: scale=0.75
#+ATTR_HTML: scale=0.75
#+NAME: fig:sec3_3
[[./section3_3.jpg]]

** problem 4 solution
Some facts you need to know:
- The probability of Sebastian going on forever is 1/2 to the power of infinity, so this number is infinitely small. So He is going to stop
- That means either he ends up with 2 downs or 3 ups, no other choices.
- The question asks the probability he ends up with an up, which also means to ask the probability of 3 ups case. If we figure out 2 downs case's probability, then 1 minus that value gives the probability of 3 ups case.
- Why would we do the 2 downs case instead of doing 3 ups case directly? This is because it is easier.

So let's figure out 2 downs case's probability. He will have one of these sequences:

\begin{eqnarray}
\downarrow\downarrow(a) \ \rightarrow \ \uparrow\downarrow\downarrow(b) & & \rightarrow \  \uparrow\uparrow\downarrow\downarrow(c_1) \ \rightarrow \ \downarrow\uparrow\uparrow\downarrow\downarrow(d_1) \ \rightarrow \  \uparrow\downarrow\uparrow\uparrow\downarrow\downarrow(e_1) \ \rightarrow ... \\
& & \rightarrow \ \downarrow\uparrow\downarrow\downarrow(c_2) \ \rightarrow \ \uparrow\downarrow\uparrow\downarrow\downarrow(d_2) \ \rightarrow ...
\end{eqnarray}

In the above diagram I placed a mark beside each possibility. E.g., \((a)\) means Sebastian could just flip 2 times and got 2 downs and he immediately stops. \((b)\) means he could flip 3 times and the first one got up and last two got downs. So on and so forth.

Notice that I stopped at \((e_1)\) and \((d_2)\) because the first 2 flips are both up and down, same as case \((b)\). So both \((e_1)\) and \((d_2)\) will unfold or multiply as if they were \((b)\), but with more flips at the end that's all. This is a recursive and infinite sequence.

Let's assume the total probability of all the configurations after \((b)\) in the above diagram is \(x\), and we can write to total probability for 2 downs case as:

\begin{eqnarray}\label{eq:p2downs}
\frac{1}{4}+\frac{1}{8} + x
\end{eqnarray}

Notice that all the configurations added up after \((e_1)\) is nothing but \(x\times 1/8\)  and all the configurations after \((d_2)\) is just \(x\times 1/4\)

So we have

\begin{eqnarray}
x &=& P(c_1) + P(d_1) + P(e_1) + \frac{1}{8}\cdot x + P(c_2) + P(d_2) + \frac{1}{4}\cdot x\\
&=& \frac{1}{16} + \frac{1}{32} + \frac{1}{64} + \frac{1}{8}\cdot x + \frac{1}{16} + \frac{1}{32} + \frac{1}{4}\cdot x
\end{eqnarray}

Solve x and you get \(x=13/40\). Plug x into Eq.(\ref{eq:p2downs}) you get the probability of 2 downs is  \(7/10\). So the probability of getting last flip up is \({\bf30\%}\).

** problem 5 solution
We can solve this by using a table, let's assume the top right vertex is labeled 1, and then clock wise label all vertices as 2,..., 6, so that the top left is 6. Also assume the number of moves on vertex \(i\) is \(a_i\), and the final value for the vertex is \(n_i\)

  | n_1 | n_2 | n_3 | n_4 | n_5 | n_6 |
  |-----+-----+-----+-----+-----+-----|
  | 1   | a_1 |     |     | 1   | a_1 |
  | a_2 |     | a_2 |     |     |     |
  |     | a_3 |     | a_3 |     |     |
  |     |     | a_4 |     | a_4 |     |
  |     |     |     | a_5 |     | a_5 |
  | a_6 |     |     |     | a_6 |     |

The purpose is to let all \(n_i\) be equal, so we have

\begin{equation}
n = 1 + a_2+a_6 = a_1 + a_3 = a_2 + a_4 = a_3+a_5 = 1+a_4+a_6 = a_1+a_5
\end{equation}

We have 5 equations but 6 variables. So we can solve them all except one of them. Let's treat \(a_6\) as a special one, because it is serounded by 2 value 1's, and express all other variables as functions of \(a_6\).

We can easily get two equations by solving the above equations:

\begin{equation}
a_1=a_2=a_3=a_4=a_5
\end{equation}

And

\begin{equation}
a_1 = a_6 + 1
\end{equation}

So \(a_6\) is your choice, you can set it as 0, no move, which is the minimum effort here. In this case, all other \(a_i\) will be 1. And \(n = 2\), so all vertices will have a value of 2.


** problem 6 solution

Let the real number \(x\) be \(a/b\) where \(a\) and \(b\) don't share any common factor, and \(a \geq b\). Let \(a = q\cdot b + r\), and \(r\in[0, b)\), so

\begin{eqnarray}
x& = &\frac{q\cdot b + r}{b}\\
\lfloor x \rfloor&=& q\\
n &=& q\left(\frac{q\cdot b + r}{b}\right)
\end{eqnarray}

In order for \(n\) to be an integer, \(q\) must be multiple of \(b\), so let \(q = p\cdot b\). So

\begin{eqnarray}
x& = &\frac{p\cdot b^2 + r}{b}\\
\lfloor x \rfloor&=& p\cdot b\\
n &=& p\left(p\cdot b^2 + r\right)
\end{eqnarray}

Here,\(p\) is a positive integer.  \(b = 1, 2, 3, ...\) and \(r \in [0, b)\).

*** Case 1)
If \(r = 0\), \(x = \lfloor x \rfloor\), so \(n\) is a square number \(n = x^2\in [1,2024]\). There are 44 solutions of \(n\).
*** Case 2)
If \(r > 0\), \(b = 2, 3, 4, ...\). When \(b =2\), \(r = 1\)

\begin{equation}
n = 4p^2 + p \leq 2024.\\
\end{equation}


Solve this and get, \(p\leq 22\). There are 22 solutions of \(n\).

When \(b = 3\), \(r = 1,2\)

\begin{equation}
n =9p^2 + r\cdot p \leq 2024
\end{equation}

Solve this and get

\begin{equation}
p = \frac{-r +\sqrt{r^2 + 4\cdot 9\cdot 2024}}{18}
\end{equation}

For both r values (0,1), we get \(p \leq 14\)

When \(b=4\), \(r = 1,2,3\) will be similar, and for all \(b\) that can make \(n <=2024=\), we have general solution:

\begin{eqnarray}
p &\leq& \frac{1}{2b}\left[{\sqrt{(\frac{r}{b})^2 + 8096} - \frac{r}{b}\right]\\
&=& \frac{1}{2b}\left[{\sqrt{8096}\left[\frac{(r/b)^2}{8096} + 1\right]^{\frac{1}{2}} - \frac{r}{b}\right]\\
\end{eqnarray}

Using approximation, \((1+x)^n\approx 1+n\cdot x\), when \(x\ll 1\)

\begin{eqnarray}
p_{max}&\approx& \frac{1}{2b}\left[{\frac{(r/b)^2}{\sqrt{8096}\cdot 2} + \sqrt{8096} - \frac{r}{b}\right]\\
&\approx&\frac{89.977775...-r/b}{2b}
\end{eqnarray}

During the last approximation, I dropped the \(r/b\)^2 term, also you can  drop the \(r/b\) term now. This means \(q_{max} = p_{max}\cdot b = 44\). This also means, when you pick a \(b\) value, the maximum of \(p\) value is given by \(44/b\). If you use this to test the above cases we have done, you will find it fit well. E.g., when \(b=2\), \(p_{max} = 44/2 = 22\) and when \(b=3\), \(p_{max} = 44/3= 14\).

Ok, we've come so far, let's summize the answer. When \(r > 0\), \(b\) can be any values between 2 and 44. And the corresponding maximum \(p\) value is \(44/b\). And don't forget the \(r\) can be anything between \(1\) and \(b-1\). So in total we have number of \(n\)


\begin{eqnarray}
N &=&22 + 14\cdot 2 + 11\cdot 3 + 8\cdot4 + 7\cdot5 + 6\cdot6+5\cdot7+4\cdot8+4\cdot9+4\cdot10\\
& & + 3\cdot(11+12+13) +2\cdot(14+15+ ... +21) + 1\cdot(22 + ... + 43)\\
&=& 1432
\end{eqnarray}

And lastly, add Case 1) and Case 2), we have total number of qualifying \(n\) to be

\begin{equation}
\boxed{N=1476}
\end{equation}
* <2024-08-01 Thu>
** Problem 6
Find number of integer solutions \([x,y,z,\omega]\) between -10 and 10, inclusive, such that

\begin{eqnarray}
x + y + z &=& \omega\\
\frac{1}{x} + \frac{1}{y} + \frac{1}{z} &=& \frac{1}{\omega}
\end{eqnarray}
